# Cloudflare Workers Configuration (Legacy Root Config)
# NOTE: The main workers configuration is in workers/wrangler.toml
# This file is kept for reference but should not be used directly.
# 
# For the current setup, use:
#   cd workers && wrangler [command]
#
# See workers/SECRETS.md for secrets management documentation.

name = "somatic-canticles"
main = "src/server/api/index.ts"
compatibility_date = "2024-01-01"

# R2 Buckets for storing audio files and images
[[r2_buckets]]
binding = "R2_AUDIO"
bucket_name = "canticle-audio"

[[r2_buckets]]
binding = "R2_IMAGES"
bucket_name = "canticle-images"

# Environment variables
[vars]
ENVIRONMENT = "production"

# Secrets are now managed via the Secrets Manager
# See workers/SECRETS.md for documentation
#
# Quick commands:
#   bun run secrets:status     # Check which secrets are set
#   bun run secrets:generate   # Generate a secure secret
#   bun run secrets:put NAME   # Store a secret
#
# Required secrets:
# - JWT_SECRET (set via: cd workers && bun run secrets:put JWT_SECRET "value")
# - AUTH_SECRET

# Development environment
[env.dev]
name = "somatic-canticles-dev"

[[env.dev.r2_buckets]]
binding = "R2_AUDIO"
bucket_name = "canticle-audio-dev"

[[env.dev.r2_buckets]]
binding = "R2_IMAGES"
bucket_name = "canticle-images-dev"

[env.dev.vars]
ENVIRONMENT = "development"
